(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9e9e6a8"],{"0845":function(e,t,o){"use strict";o("51ec")},"498a":function(e,t,o){"use strict";var r=o("23e7"),a=o("58a8").trim,n=o("c8d2");r({target:"String",proto:!0,forced:n("trim")},{trim:function(){return a(this)}})},"51ec":function(e,t,o){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,o){var r=o("1d80"),a=o("5899"),n="["+a+"]",l=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),i=function(e){return function(t){var o=String(r(t));return 1&e&&(o=o.replace(l,"")),2&e&&(o=o.replace(c,"")),o}};e.exports={start:i(1),end:i(2),trim:i(3)}},"8a90":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"cash-register"},[o("van-nav-bar",{attrs:{title:"收银","left-text":"返回",fixed:!0,"left-arrow":""},on:{"click-left":e.onClickLeft}}),o("div",{staticClass:"zhan"}),o("van-tabs",{attrs:{color:"#2a8ae8"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[o("van-tab",{attrs:{title:"会员"}},[o("van-cell-group",[o("van-field",{attrs:{center:"",clearable:"",label:"会员卡号",placeholder:"请输入手机号",type:"number"},on:{input:e.numberInput},scopedSlots:e._u([{key:"button",fn:function(){return[o("van-button",{attrs:{size:"small",type:"info"},on:{click:e.autMemHandler}},[e._v("验证")])]},proxy:!0}]),model:{value:e.memberNo,callback:function(t){e.memberNo=t},expression:"memberNo"}})],1),o("van-cell-group",[o("van-cell",{attrs:{title:"姓名",value:e.name}}),o("van-cell",{attrs:{title:"剩余金额",value:e.money+" 元"}})],1),o("van-cell-group",[o("van-field",{attrs:{type:"number",placeholder:"请输入",label:"消费金额"},model:{value:e.form.consumeMoney,callback:function(t){e.$set(e.form,"consumeMoney",t)},expression:"form.consumeMoney"}}),o("van-field",{attrs:{name:"checkboxGroup",label:"项目"},scopedSlots:e._u([{key:"input",fn:function(){return[o("van-checkbox-group",{attrs:{direction:"horizontal"},model:{value:e.projectArr,callback:function(t){e.projectArr=t},expression:"projectArr"}},e._l(e.project,(function(t){return o("van-checkbox",{key:t.projectId,attrs:{name:t.projectId,shape:"square"}},[e._v(e._s(t.projectName))])})),1)]},proxy:!0}])})],1),o("van-cell-group",[o("van-field",{attrs:{type:"number",placeholder:"请输入",label:"充值金额"},model:{value:e.rechargeMoney,callback:function(t){e.rechargeMoney=t},expression:"rechargeMoney"}}),o("van-field",{attrs:{type:"number",placeholder:"请输入",label:"赠送金额"},model:{value:e.extraMoney,callback:function(t){e.extraMoney=t},expression:"extraMoney"}}),o("van-field",{attrs:{name:"radio",label:"付款方式"},scopedSlots:e._u([{key:"input",fn:function(){return[o("van-radio-group",{attrs:{direction:"horizontal"},model:{value:e.payType1,callback:function(t){e.payType1=t},expression:"payType1"}},e._l(e.paytypes,(function(t){return o("van-radio",{key:t.payType,attrs:{name:t.payType}},[e._v(e._s(t.payTypeName))])})),1)]},proxy:!0}])})],1),o("van-cell-group",[o("van-field",{attrs:{"is-link":"",readonly:"",label:"大工",placeholder:"请选择"},on:{click:function(t){e.showPickerStylist=!0}},model:{value:e.stylistName,callback:function(t){e.stylistName=t},expression:"stylistName"}}),o("van-field",{attrs:{"is-link":"",readonly:"",label:"中工",placeholder:"请选择"},on:{click:function(t){e.showPickerColorer=!0}},model:{value:e.colorerName,callback:function(t){e.colorerName=t},expression:"colorerName"}}),o("van-field",{attrs:{"is-link":"",readonly:"",label:"小工/助理",placeholder:"请选择"},on:{click:function(t){e.showPickerHelper=!0}},model:{value:e.helperName,callback:function(t){e.helperName=t},expression:"helperName"}})],1),o("van-cell-group",[o("van-field",{attrs:{rows:"2",autosize:"",label:"备注",type:"textarea",maxlength:"200",placeholder:"请输入","show-word-limit":""},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),o("div",{staticClass:"btn-wrap"},[o("van-button",{attrs:{type:"info",block:""},on:{click:e.recordHandler1}},[e._v("提交")])],1)],1),o("van-tab",{attrs:{title:"散客"}},[o("van-cell-group",[o("van-field",{attrs:{type:"number",placeholder:"请输入",label:"金额"},model:{value:e.form.consumeMoney,callback:function(t){e.$set(e.form,"consumeMoney",t)},expression:"form.consumeMoney"}}),o("van-field",{attrs:{name:"checkboxGroup",label:"项目"},scopedSlots:e._u([{key:"input",fn:function(){return[o("van-checkbox-group",{attrs:{direction:"horizontal"},model:{value:e.projectArr,callback:function(t){e.projectArr=t},expression:"projectArr"}},e._l(e.project,(function(t){return o("van-checkbox",{key:t.projectId,attrs:{name:t.projectId,shape:"square"}},[e._v(e._s(t.projectName))])})),1)]},proxy:!0}])}),o("van-field",{attrs:{name:"radio",label:"付款方式"},scopedSlots:e._u([{key:"input",fn:function(){return[o("van-radio-group",{attrs:{direction:"horizontal"},model:{value:e.payType2,callback:function(t){e.payType2=t},expression:"payType2"}},e._l(e.paytypes,(function(t){return o("van-radio",{key:t.payType,attrs:{name:t.payType}},[e._v(e._s(t.payTypeName))])})),1)]},proxy:!0}])})],1),o("van-cell-group",[o("van-field",{attrs:{"is-link":"",readonly:"",label:"大工",placeholder:"请选择"},on:{click:function(t){e.showPickerStylist=!0}},model:{value:e.stylistName,callback:function(t){e.stylistName=t},expression:"stylistName"}}),o("van-field",{attrs:{"is-link":"",readonly:"",label:"中工",placeholder:"请选择"},on:{click:function(t){e.showPickerColorer=!0}},model:{value:e.colorerName,callback:function(t){e.colorerName=t},expression:"colorerName"}}),o("van-field",{attrs:{"is-link":"",readonly:"",label:"小工/助理",placeholder:"请选择"},on:{click:function(t){e.showPickerHelper=!0}},model:{value:e.helperName,callback:function(t){e.helperName=t},expression:"helperName"}})],1),o("van-cell-group",[o("van-field",{attrs:{rows:"2",autosize:"",label:"备注",type:"textarea",maxlength:"200",placeholder:"请输入","show-word-limit":""},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),o("div",{staticClass:"btn-wrap"},[o("van-button",{attrs:{type:"info",block:""},on:{click:e.recordHandler2}},[e._v("提交")])],1)],1)],1),o("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.showPickerStylist,callback:function(t){e.showPickerStylist=t},expression:"showPickerStylist"}},[o("van-picker",{attrs:{"show-toolbar":"",columns:e.staffSimple},on:{cancel:function(t){e.showPickerStylist=!1},confirm:e.onConfirmStylist}})],1),o("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.showPickerColorer,callback:function(t){e.showPickerColorer=t},expression:"showPickerColorer"}},[o("van-picker",{attrs:{"show-toolbar":"",columns:e.staffSimple},on:{cancel:function(t){e.showPickerColorer=!1},confirm:e.onConfirmColorer}})],1),o("van-popup",{attrs:{round:"",position:"bottom"},model:{value:e.showPickerHelper,callback:function(t){e.showPickerHelper=t},expression:"showPickerHelper"}},[o("van-picker",{attrs:{"show-toolbar":"",columns:e.staffSimple},on:{cancel:function(t){e.showPickerHelper=!1},confirm:e.onConfirmHelper}})],1)],1)},a=[],n=o("5530"),l=(o("a15b"),o("b0c0"),o("365c")),c=o("ed08"),i=o("2f62"),s={name:"CashRegister",components:{},data:function(){return{active:2,showPickerStylist:!1,showPickerColorer:!1,showPickerHelper:!1,memberNo:"",name:"--",money:"--",payType1:"",payType2:"",rechargeMoney:"",extraMoney:"",stylistName:"",colorerName:"",helperName:"",projectArr:[],form:{consumeMoney:"",project:"",remark:""}}},watch:{projectArr:function(e){this.form.project=e.join()}},computed:Object(n["a"])(Object(n["a"])({},Object(i["c"])(["project","paytypes","userInfo"])),Object(i["b"])(["staffSimple","staffSimpleMap"])),methods:{onClickLeft:function(){this.$router.go(-1)},autMemHandler:function(){var e=this;Object(c["a"])(this.memberNo).code?this.$Toast("请输入会员电话号码"):Object(l["g"])(this.memberNo).then((function(t){if(t)if(0===t.data.code){var o=t.data.data,r=o.memberName,a=o.money;e.name=r,e.money=a}else e.$Toast(t.data.msg);else e.$Toast("验证失败")}))},recordHandler:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(l["m"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({},this.form),t),{},{stylistId:this.staffSimpleMap[this.stylistName],colorerId:this.staffSimpleMap[this.colorerName],helperId:this.staffSimpleMap[this.helperName],createBy:this.userInfo.loginName,deptId:this.userInfo.deptId})).then((function(t){t&&(0===t.data.code?(e.$Toast("提交成功"),e.$router.go(-1)):e.$Toast(t.data.msg))}))},recordHandler1:function(){"--"!==this.money?this.form.consumeMoney?this.form.project?!this.rechargeMoney||this.payType1?this.stylistName?this.recordHandler({memberNo:this.memberNo,payType:this.payType1,rechargeMoney:this.rechargeMoney,extraMoney:this.extraMoney,consumeType:1}):this.$Toast("请选择大工"):this.$Toast("请选择付款方式"):this.$Toast("请选择项目"):this.$Toast("请输入消费金额"):this.$Toast("请先验证会员")},recordHandler2:function(){this.form.consumeMoney?this.form.project?this.payType2?this.stylistName?this.recordHandler({payType:this.payType2,consumeType:2}):this.$Toast("请选择大工"):this.$Toast("请选择付款方式"):this.$Toast("请选择项目"):this.$Toast("请输入消费金额")},onConfirmStylist:function(e){this.stylistName=e,this.showPickerStylist=!1},onConfirmColorer:function(e){this.colorerName=e,this.showPickerColorer=!1},onConfirmHelper:function(e){this.helperName=e,this.showPickerHelper=!1},numberInput:function(){this.name="--",this.money="--"}}},p=s,u=(o("0845"),o("2877")),m=Object(u["a"])(p,r,a,!1,null,null,null);t["default"]=m.exports},a15b:function(e,t,o){"use strict";var r=o("23e7"),a=o("44ad"),n=o("fc6a"),l=o("a640"),c=[].join,i=a!=Object,s=l("join",",");r({target:"Array",proto:!0,forced:i||!s},{join:function(e){return c.call(n(this),void 0===e?",":e)}})},b0c0:function(e,t,o){var r=o("83ab"),a=o("9bf2").f,n=Function.prototype,l=n.toString,c=/^\s*function ([^ (]*)/,i="name";r&&!(i in n)&&a(n,i,{configurable:!0,get:function(){try{return l.call(this).match(c)[1]}catch(e){return""}}})},c8d2:function(e,t,o){var r=o("d039"),a=o("5899"),n="​᠎";e.exports=function(e){return r((function(){return!!a[e]()||n[e]()!=n||a[e].name!==e}))}},ed08:function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return a}));o("498a");var r=function(e){var t=/^1[3-9][0-9]{9}$/;return""===e.trim()?{code:1,msg:"请输入手机号码"}:t.test(e)?{code:0,msg:"验证通过"}:{code:1,msg:"手机号码格式不正确"}},a=function(e){return""===e.trim()?{code:1,msg:"请输入密码"}:e.length<6?{code:1,msg:"密码长度不能小于6位"}:{code:0,msg:"验证通过"}}}}]);
//# sourceMappingURL=chunk-a9e9e6a8.9fbc4ee2.js.map