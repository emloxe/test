(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-ranking"],{"187a":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.uni-drawer[data-v-64ade220]{display:block;position:fixed;top:0;left:0;right:0;bottom:0;overflow:hidden;z-index:999}.uni-drawer__content[data-v-64ade220]{display:block;position:absolute;top:0;width:220px;bottom:0;background-color:#fff;-webkit-transition:-webkit-transform .3s ease;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.uni-drawer--left[data-v-64ade220]{left:0;-webkit-transform:translateX(-100%);transform:translateX(-100%)}.uni-drawer--right[data-v-64ade220]{right:0;-webkit-transform:translateX(100%);transform:translateX(100%)}.uni-drawer__content--visible[data-v-64ade220]{-webkit-transform:translateX(0);transform:translateX(0)}.uni-drawer__mask[data-v-64ade220]{display:block;opacity:0;position:absolute;top:0;left:0;bottom:0;right:0;background-color:rgba(0,0,0,.4);-webkit-transition:opacity .3s;transition:opacity .3s}.uni-drawer__mask--visible[data-v-64ade220]{display:block;opacity:1}',""]),t.exports=e},"1b92":function(t,e,a){"use strict";var i=a("7ff7"),n=a.n(i);n.a},3990:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-2812ede8]{height:100%}.bg-blue[data-v-2812ede8]{position:absolute;z-index:-1;top:0;left:0;width:100%;height:%?260?%;background-color:#3188ff}.tabs[data-v-2812ede8]{margin:%?10?% auto %?40?%;width:%?400?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.tabs .item[data-v-2812ede8]{width:%?80?%;height:%?80?%;line-height:%?80?%;text-align:center;font-size:%?36?%;color:#fff;border-bottom:%?4?% solid transparent}.tabs .item.active[data-v-2812ede8]{border-bottom:%?4?% solid #fff}.ranking-wrap[data-v-2812ede8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:%?650?%;margin:auto;padding:%?30?% %?20?% %?20?% %?20?%;border-radius:%?10?% %?10?% 0 0;background-color:#fff;-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden}.ranking-wrap .table-top[data-v-2812ede8]{display:-webkit-box;display:-webkit-flex;display:flex;padding-bottom:%?20?%}.ranking-wrap .table-top .th[data-v-2812ede8]{text-align:center;color:#545454;font-size:%?30?%}.ranking-wrap .r-center[data-v-2812ede8]{-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:auto}.ranking-wrap table[data-v-2812ede8]{width:100%}.ranking-wrap table td[data-v-2812ede8]{height:%?60?%;text-align:center;color:grey;font-size:%?28?%}.ranking-wrap table .index[data-v-2812ede8]{color:#464646}.ranking-wrap table .index0 span[data-v-2812ede8],\n.ranking-wrap table .index1 span[data-v-2812ede8],\n.ranking-wrap table .index2 span[data-v-2812ede8]{display:inline-block;width:%?46?%;height:%?46?%;line-height:%?46?%;border-radius:%?8?%;color:#fff}.ranking-wrap table .index0 span[data-v-2812ede8]{background-color:#ff5733}.ranking-wrap table .index1 span[data-v-2812ede8]{background-color:#ff8d1a}.ranking-wrap table .index2 span[data-v-2812ede8]{background-color:#ffc300}.scroll-view[data-v-2812ede8]{padding:%?20?% %?20?% %?20?% %?40?%}.scroll-view .date-title[data-v-2812ede8]{padding:%?40?% 0}.scroll-view .time-wrap[data-v-2812ede8]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.scroll-view .time-wrap .item[data-v-2812ede8]{width:%?120?%;height:%?60?%;margin-right:%?20?%;margin-bottom:%?16?%;border-radius:%?8?%;line-height:%?60?%;text-align:center;color:#616161;background-color:#fafafa;border:%?2?% solid transparent}.scroll-view .time-wrap .item.active[data-v-2812ede8]{color:#4797ff;background-color:rgba(71,155,255,.1);border:%?2?% solid #4797ff}",""]),t.exports=e},"3b85":function(t,e,a){"use strict";a.r(e);var i=a("86f9"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},5787:function(t,e,a){"use strict";a.r(e);var i=a("f2ab"),n=a("3b85");for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("b786");var s,o=a("f0c5"),d=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"64ade220",null,!1,i["a"],s);e["default"]=d.exports},"58bb":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{list1:[],list2:[],activeTabsName:"个人",sortTime:"本周",sortTimeTitle:"本周",sortTimeArr:["本周","本月","今年","累计"],showRight:!1}},created:function(){this.setData()},methods:{setData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"week";uni.request({url:this.$api+"/api/app/task/scoreorder/user/"+e,method:"GET",dataType:"json",success:function(e){200==e.statusCode&&0==e.data.code?t.list1=e.data.data:uni.showToast({title:e.data.msg,icon:"none"})}}),uni.request({url:this.$api+"/api/app/task/scoreorder/dept/"+e,method:"GET",dataType:"json",success:function(e){200==e.statusCode&&0==e.data.code?t.list2=e.data.data:uni.showToast({title:e.data.msg,icon:"none"})}})},setActiveTab:function(t){console.log(t),this.activeTabsName=t},back:function(){uni.switchTab({url:"/pages/index/index"})},openDrawer:function(){this.$refs["showRight"].open()},timeChangeHandler:function(t){this.sortTime=t},submitHandler:function(){this.$refs["showRight"].close(),this.sortTimeTitle=this.sortTime;var t={"本周":"week","本月":"month","今年":"year","累计":"all"};this.setData(t[this.sortTime])}}};e.default=i},"5ed6":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={uniNavBar:a("e31a").default,uniDrawer:a("5787").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticStyle:{"padding-top":"5rpx",height:"100%","box-sizing":"border-box",display:"flex",flex:"1","flex-direction":"column"}},[a("uni-nav-bar",{attrs:{backgroundColor:"#3188FF",color:"#fff","left-icon":"arrowleft","right-text":t.sortTimeTitle,title:"排行榜"},on:{clickLeft:function(e){arguments[0]=e=t.$handleEvent(e),t.back.apply(void 0,arguments)},clickRight:function(e){arguments[0]=e=t.$handleEvent(e),t.openDrawer.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"bg-blue"}),a("v-uni-view",{staticClass:"tabs"},[a("v-uni-view",{class:{active:"个人"===t.activeTabsName,item:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setActiveTab("个人")}}},[t._v("个人")]),a("v-uni-view",{class:{active:"单位"===t.activeTabsName,item:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setActiveTab("单位")}}},[t._v("单位")])],1),a("v-uni-view",{staticClass:"ranking-wrap "},[a("v-uni-view",{},[a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"个人"===t.activeTabsName,expression:"activeTabsName === '个人'"}],staticClass:"table-top"},[a("v-uni-view",{staticClass:"th",staticStyle:{width:"15%"}},[t._v("排名")]),a("v-uni-view",{staticClass:"th",staticStyle:{width:"25%"}},[t._v("姓名")]),a("v-uni-view",{staticClass:"th",staticStyle:{width:"40%"}},[t._v("单位")]),a("v-uni-view",{staticClass:"th",staticStyle:{width:"20%"}},[t._v("积分")])],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"单位"===t.activeTabsName,expression:"activeTabsName === '单位'"}],staticClass:"table-top"},[a("v-uni-view",{staticClass:"th",staticStyle:{width:"15%"}},[t._v("排名")]),a("v-uni-view",{staticClass:"th",staticStyle:{width:"65%"}},[t._v("单位")]),a("v-uni-view",{staticClass:"th",staticStyle:{width:"20%"}},[t._v("积分")])],1)],1),a("v-uni-view",{staticClass:"r-center"},[a("table",{directives:[{name:"show",rawName:"v-show",value:"个人"===t.activeTabsName,expression:"activeTabsName === '个人'"}]},t._l(t.list1,(function(e,i){return a("tr",[a("td",{class:"index index"+i,staticStyle:{width:"15%"}},[a("span",[t._v(t._s(i+1))])]),a("td",{staticStyle:{width:"25%"}},[t._v(t._s(e.user_name))]),a("td",{staticStyle:{width:"40%"}},[t._v(t._s(e.dept_name))]),a("td",{staticStyle:{width:"20%"}},[t._v(t._s(e.score||0))])])})),0),a("table",{directives:[{name:"show",rawName:"v-show",value:"单位"===t.activeTabsName,expression:"activeTabsName === '单位'"}]},t._l(t.list2,(function(e,i){return a("tr",[a("td",{class:"index index"+i,staticStyle:{width:"15%"}},[a("span",[t._v(t._s(i+1))])]),a("td",{staticStyle:{width:"65%"}},[t._v(t._s(e.dept_name))]),a("td",{staticStyle:{width:"20%"}},[t._v(t._s(e.score||0))])])})),0)])],1),a("uni-drawer",{ref:"showRight",staticClass:"drawer",attrs:{width:250,mode:"right","mask-click":!0}},[a("v-uni-view",{staticClass:"scroll-view"},[a("v-uni-view",{staticClass:"date-title"},[t._v("日期范围")]),a("v-uni-view",{staticClass:"time-wrap"},t._l(t.sortTimeArr,(function(e,i){return a("v-uni-view",{key:i,class:{item:!0,active:t.sortTime===e},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.timeChangeHandler(e)}}},[t._v(t._s(e))])})),1),a("v-uni-button",{staticClass:"mini-btn",staticStyle:{margin:"30rpx auto",display:"block",width:"160rpx"},attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitHandler.apply(void 0,arguments)}}},[t._v("确定")])],1)],1)],1)},r=[]},"7ff7":function(t,e,a){var i=a("3990");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("470aa7e4",i,!0,{sourceMap:!1,shadowMode:!1})},"86f9":function(t,e,a){"use strict";var i=a("4ea4");a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("d237")),r={name:"UniDrawer",components:{keypress:n.default},emits:["change"],props:{mode:{type:String,default:""},mask:{type:Boolean,default:!0},maskClick:{type:Boolean,default:!0},width:{type:Number,default:220}},data:function(){return{visibleSync:!1,showDrawer:!1,rightMode:!1,watchTimer:null,drawerWidth:220}},created:function(){this.drawerWidth=this.width,this.rightMode="right"===this.mode},methods:{clear:function(){},close:function(t){("mask"!==t||this.maskClick)&&this.visibleSync&&this._change("showDrawer","visibleSync",!1)},open:function(){this.visibleSync||this._change("visibleSync","showDrawer",!0)},_change:function(t,e,a){var i=this;this[t]=a,this.watchTimer&&clearTimeout(this.watchTimer),this.watchTimer=setTimeout((function(){i[e]=a,i.$emit("change",a)}),a?50:300)}}};e.default=r},b786:function(t,e,a){"use strict";var i=a("f8e1"),n=a.n(i);n.a},ba5c:function(t,e,a){"use strict";a.r(e);var i=a("58bb"),n=a.n(i);for(var r in i)"default"!==r&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},d237:function(t,e,a){"use strict";a("7db0"),a("caad"),a("b64b"),a("2532"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"Keypress",props:{disable:{type:Boolean,default:!1}},mounted:function(){var t=this,e={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},a=function(a){if(!t.disable){var i=Object.keys(e).find((function(t){var i=a.key,n=e[t];return n===i||Array.isArray(n)&&n.includes(i)}));i&&setTimeout((function(){t.$emit(i,{})}),0)}};document.addEventListener("keyup",a)},render:function(){}};e.default=i},e3f4:function(t,e,a){"use strict";a.r(e);var i=a("5ed6"),n=a("ba5c");for(var r in n)"default"!==r&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("1b92");var s,o=a("f0c5"),d=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"2812ede8",null,!1,i["a"],s);e["default"]=d.exports},f2ab:function(t,e,a){"use strict";var i;a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.visibleSync?a("v-uni-view",{staticClass:"uni-drawer",class:{"uni-drawer--visible":t.showDrawer},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"uni-drawer__mask",class:{"uni-drawer__mask--visible":t.showDrawer&&t.mask},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close("mask")}}}),a("v-uni-view",{staticClass:"uni-drawer__content",class:{"uni-drawer--right":t.rightMode,"uni-drawer--left":!t.rightMode,"uni-drawer__content--visible":t.showDrawer},style:{width:t.drawerWidth+"px"}},[t._t("default")],2),a("keypress",{on:{esc:function(e){arguments[0]=e=t.$handleEvent(e),t.close("mask")}}})],1):t._e()},r=[]},f8e1:function(t,e,a){var i=a("187a");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("a911e82a",i,!0,{sourceMap:!1,shadowMode:!1})}}]);