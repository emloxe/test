(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-task-task-details1"],{"0a34":function(t,i,e){"use strict";e("fb6a"),e("ac1f"),e("466d"),e("5319"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s={methods:{extractLink:function(t){if(!t)return"";var i=/(https?|http|ftp|file):\/\/[\u4e00-\u9fa5_a-zA-Z0-9.?&=#%/]+[;；]{1}/g,e=t.match(i);return e?t.replace(e,'<a href="'+String(e).slice(0,-1)+'" target="_blank">'+e+"</a>"):t}}},a=s;i.default=a},"188d":function(t,i,e){var s=e("de90");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var a=e("4f06").default;a("058c62b1",s,!0,{sourceMap:!1,shadowMode:!1})},2512:function(t,i,e){"use strict";e.r(i);var s=e("3dab"),a=e.n(s);for(var n in s)"default"!==n&&function(t){e.d(i,t,(function(){return s[t]}))}(n);i["default"]=a.a},"27b3":function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return s}));var s={uniNavBar:e("e31a").default,uniIcons:e("1df7").default},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticStyle:{display:"flex","flex-direction":"column",height:"100%"}},[e("uni-nav-bar",{attrs:{backgroundColor:"#3188FF",color:"#fff","left-icon":"arrowleft",title:"任务详情"},on:{clickLeft:function(i){arguments[0]=i=t.$handleEvent(i),t.back.apply(void 0,arguments)}}}),e("v-uni-view",{staticStyle:{flex:"1","min-height":"10rpx","padding-bottom":"40rpx",position:"relative",overflow:"auto"}},[e("v-uni-view",{staticClass:"bg-blue"}),e("v-uni-view",{staticClass:"info-wrap common-width"},[e("uni-view",{staticClass:"list uni-flex uni-row"},[e("uni-view",{staticClass:"text",staticStyle:{width:"160rpx"}},[t._v("任务标题")]),e("uni-view",{staticClass:"text text-r",staticStyle:{flex:"1"}},[t._v(t._s(t.taskRecord.taskName))])],1),e("uni-view",{staticClass:"list uni-flex uni-row"},[e("uni-view",{staticClass:"text",staticStyle:{width:"160rpx"}},[t._v("任务内容")]),e("uni-view",{staticClass:"text text-r",staticStyle:{flex:"1"},domProps:{innerHTML:t._s(t.extractLink(t.taskRecord.taskContent))}})],1),t.taskRecord.taskDesc?e("uni-view",{staticClass:"list uni-flex uni-row"},[e("uni-view",{staticClass:"text",staticStyle:{width:"160rpx"}},[t._v("参考内容")]),e("uni-view",{staticClass:"text text-r",staticStyle:{flex:"1"},domProps:{innerHTML:t._s(t.extractLink(t.taskRecord.taskDesc))}})],1):t._e(),e("uni-view",{staticClass:"list uni-flex uni-row"},[e("uni-view",{staticClass:"text",staticStyle:{width:"160rpx"}},[t._v("开始时间")]),e("uni-view",{staticClass:"text text-r",staticStyle:{flex:"1"}},[t._v(t._s(t.taskRecord.startTime))])],1),e("uni-view",{staticClass:"list uni-flex uni-row"},[e("uni-view",{staticClass:"text",staticStyle:{width:"160rpx"}},[t._v("结束时间")]),e("uni-view",{staticClass:"text text-r",staticStyle:{flex:"1"}},[t._v(t._s(t.taskRecord.endTime))])],1)],1),e("v-uni-view",{staticClass:"info-wrap common-width"},[e("uni-view",{staticClass:"list uni-flex uni-row"},[e("uni-view",{staticClass:"text",staticStyle:{width:"160rpx"}},[t._v("任务平台")]),e("uni-view",{staticClass:"text text-r",staticStyle:{flex:"1"}},[t._v(t._s(t.taskRecord.taskPlatName))])],1),e("uni-view",{staticClass:"list uni-flex uni-row"},[e("uni-view",{staticClass:"text",staticStyle:{width:"160rpx"}},[t._v("任务类型")]),e("uni-view",{staticClass:"text text-r",staticStyle:{flex:"1"}},[t._v(t._s(t.taskRecord.taskTypeName))])],1),t.fileinfos.length>0?e("uni-view",{staticClass:"list "},[e("uni-view",{staticClass:"text"},[t._v("任务图片")]),e("v-uni-view",{staticClass:"uni-flex uni-row img-show"},t._l(t.fileinfos,(function(i,s){return e("img",{attrs:{src:"http://file.xfnews.cn/wangp/"+i.filepath},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showPreviewHandler("http://file.xfnews.cn/wangp/"+i.filepath)}}})})),0)],1):t._e()],1),e("v-uni-view",{staticClass:"info-wrap common-width"},[e("uni-view",{staticClass:"list uni-flex uni-row"},[e("uni-view",{staticClass:"text",staticStyle:{width:"220rpx"}},[e("svg",{staticClass:"icon icon-jifen",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-jifen"}})]),t._v("任务积分")]),e("uni-view",{staticClass:"text text-r",staticStyle:{flex:"1","text-align":"right"}},[t._v(t._s(t.taskRecord.score||t.taskRecord.taskBaseScore))])],1)],1),e("v-uni-button",{staticClass:"common-btn",attrs:{type:"primary",disabled:1!=t.taskRecord.auditStatus},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submitHandler.apply(void 0,arguments)}}},[t._v("领取任务")])],1),t.isShowPreview?e("v-uni-view",{staticClass:"pic-preview",style:"background-image: url("+t.previewImgUrl+");"},[e("uni-icons",{staticClass:"close",staticStyle:{width:"50rpx",height:"70rpx",display:"flex"},attrs:{type:"closeempty",color:"#8f8f94",size:"20"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closePreviewHandler.apply(void 0,arguments)}}})],1):t._e()],1)},n=[]},"31fc":function(t,i,e){"use strict";e.r(i);var s=e("27b3"),a=e("2512");for(var n in a)"default"!==n&&function(t){e.d(i,t,(function(){return a[t]}))}(n);e("f45c");var c,l=e("f0c5"),o=Object(l["a"])(a["default"],s["b"],s["c"],!1,null,"043347f8",null,!1,s["a"],c);i["default"]=o.exports},"3dab":function(t,i,e){"use strict";var s=e("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=s(e("0a34")),n={mixins:[a.default],data:function(){return{id:"",showBtn:!1,imgList:[],taskRecord:{},fileinfos:[],isShowPreview:!1,previewImgUrl:""}},onLoad:function(t){var i=t.id;this.id=i},onShow:function(){var t=this;uni.request({url:this.$api+"/api/app/task/detail/"+uni.getStorageSync("userId")+"/"+this.id,method:"GET",dataType:"json",success:function(i){200==i.statusCode&&0==i.data.code?(t.taskRecord=i.data.data.taskRecord,t.fileinfos=i.data.data.fileinfos):uni.showToast({title:i.data.msg,icon:"none"})},fail:function(){uni.showToast({title:"数据获取失败",icon:"none"})}})},methods:{back:function(){uni.switchTab({url:"/pages/task/task"})},closePreviewHandler:function(){this.isShowPreview=!1},showPreviewHandler:function(t){this.previewImgUrl=t,this.isShowPreview=!0},submitHandler:function(){var t=this;uni.request({url:this.$api+"/api/app/task/receive/"+uni.getStorageSync("userId")+"/"+this.id,method:"GET",dataType:"json",success:function(i){200==i.statusCode&&0==i.data.code?uni.navigateTo({url:"/pages/task/task-details2?id="+t.id}):uni.showToast({title:i.data.msg,icon:"none"})},fail:function(){uni.showToast({title:"数据获取失败",icon:"none"})}})}}};i.default=n},de90:function(t,i,e){var s=e("24fb");i=s(!1),i.push([t.i,"uni-page-body[data-v-043347f8]{height:100%}.bg-blue[data-v-043347f8]{position:absolute;z-index:-1;top:0;left:0;width:100%;height:%?400?%;background-color:#3188ff}",""]),t.exports=i},f45c:function(t,i,e){"use strict";var s=e("188d"),a=e.n(s);a.a}}]);