{"version":3,"sources":["webpack:///./src/pages/manager/views/SalesRecord.vue?5265","webpack:///src/pages/manager/views/SalesRecord.vue","webpack:///./src/pages/manager/views/SalesRecord.vue?f7b3","webpack:///./src/pages/manager/views/SalesRecord.vue","webpack:///./src/pages/manager/views/SalesRecord.vue?d06f"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","ref","mescrollUp","on","mescrollInit","_l","item","index","key","path","query","id","paytypeMap","payType","_v","_s","memberName","_e","project","split","reduce","all","curr","projectMap","createTime","consumeMoney","staticRenderFns","components","Header","PayIcon","MescrollVue","mixins","MescrollMixins","data","dataList","callback","upCallback","page","num","size","noMoreSize","toTop","src","empty","warpId","icon","tip","btnClick","lazyLoad","use","computed","created","methods","mescroll","res","code","endSuccess","endErr","component"],"mappings":"8IAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,UAAUH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,eAAe,CAACI,IAAI,WAAWD,MAAM,CAAC,GAAKP,EAAIS,YAAYC,GAAG,CAAC,KAAOV,EAAIW,eAAe,CAACP,EAAG,MAAM,CAACG,MAAM,CAAC,GAAK,aAAaP,EAAIY,GAAIZ,EAAY,UAAE,SAASa,EAAKC,GAAO,OAAOV,EAAG,cAAc,CAACW,IAAID,EAAMP,MAAM,CAAC,GAAK,CAAES,KAAM,iBAAkBC,MAAO,CAAEC,GAAIL,EAAKK,OAAS,CAACd,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,KAAOP,EAAImB,WAAWN,EAAKO,UAAYP,EAAKO,YAAY,GAAGhB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACN,EAAIqB,GAAG,IAAIrB,EAAIsB,GAAGT,EAAKU,WAAa,KAAO,MAAM,KAAMV,EAAe,WAAET,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACN,EAAIqB,GAAG,IAAIrB,EAAIsB,GAAGT,EAAKU,YAAY,OAAOvB,EAAIwB,OAAOpB,EAAG,IAAI,CAACE,YAAY,oBAAoB,CAACN,EAAIqB,GAAG,IAAIrB,EAAIsB,GAAGT,EAAKY,QAAQC,MAAM,KAAKC,QAAO,SAAUC,EAAKC,EAAMf,GAAuE,OAAhD,IAAVA,IAAec,GAAO,KAAOA,GAAO5B,EAAI8B,WAAWD,GAAcD,IAAQ,KAAK,SAASxB,EAAG,MAAM,CAACE,YAAY,MAAM,CAACF,EAAG,IAAI,CAACE,YAAY,QAAQ,CAACN,EAAIqB,GAAGrB,EAAIsB,GAAGT,EAAKkB,eAAe3B,EAAG,IAAI,CAACE,YAAY,SAAS,CAACN,EAAIqB,GAAG,IAAIrB,EAAIsB,GAAGT,EAAKmB,0BAAyB,MAAM,IAAI,IAC7uCC,EAAkB,G,gGCgEtB,GACEC,WAAY,CACVC,OAAJ,OACIC,QAAJ,OACIC,YAAJ,QAEEC,OAAQ,CAACC,EAAX,MACEC,KAPF,WAQI,MAAO,CACLC,SAAU,GAEVhC,WAAY,CAEViC,SAAUzC,KAAK0C,WACfC,KAAM,CACJC,IAAK,EACLC,KAAM,IAERC,WAAY,EACZC,MAAO,CACLC,IAAK,4BAEPC,MAAO,CAELC,OAAQ,WACRC,KAAM,2BACNC,IAAK,UAELC,SANV,cAWQC,SAAU,CACRC,KAAK,MAKbC,SAAU,OAAZ,OAAY,CAAZ,GACA,6CAEEC,QA1CF,aAqDEC,QAAS,CAEPhD,aAFJ,SAEA,GACMV,KAAK2D,SAAWA,GAGlBjB,WANJ,SAMA,gBACM,OAAN,OAAM,CAAN,4BACYkB,EACoB,IAAlBA,EAAIrB,KAAKsB,MACM,IAAblB,EAAKC,MAAW,EAAhC,aACY,EAAZ,wCACY,EAAZ,sBACce,EAASG,WAAWF,EAAIrB,KAAKA,WAG/BoB,EAASI,SACT,EAAZ,oBAGUJ,EAASI,eC1IgW,I,wBCQ/WC,EAAY,eACd,EACAlE,EACAkC,GACA,EACA,KACA,WACA,MAIa,aAAAgC,E,2CCnBf","file":"js/chunk-6167b5ac.f7e11562.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap\"},[_c('Header',{attrs:{\"title\":\"消费记录\"}}),_c('div',{staticClass:\"bill-dataList\"},[_c('mescroll-vue',{ref:\"mescroll\",attrs:{\"up\":_vm.mescrollUp},on:{\"init\":_vm.mescrollInit}},[_c('div',{attrs:{\"id\":\"dataList\"}},_vm._l((_vm.dataList),function(item,index){return _c('router-link',{key:index,attrs:{\"to\":{ path: '/bill-details2', query: { id: item.id } }}},[_c('div',{staticClass:\"one-sale clearfix\"},[_c('div',{staticClass:\"icon-wrap fl\"},[_c('PayIcon',{attrs:{\"name\":_vm.paytypeMap[item.payType] || item.payType}})],1),_c('div',{staticClass:\"fl left-info\"},[_c('h6',{staticClass:\"type inaline\"},[_vm._v(\" \"+_vm._s(item.memberName ? \"会员\" : \"散客\")+\" \"),(item.memberName)?_c('span',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(item.memberName)+\" \")]):_vm._e()]),_c('p',{staticClass:\"category inaline\"},[_vm._v(\" \"+_vm._s(item.project.split(\",\").reduce(function (all, curr, index) { if (index !== 0) { all += \",\"; } all += _vm.projectMap[curr]; return all; }, \"\"))+\" \")])]),_c('div',{staticClass:\"fr\"},[_c('p',{staticClass:\"time\"},[_vm._v(_vm._s(item.createTime))]),_c('p',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(item.consumeMoney))])])])])}),1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wrap\">\n    <Header title=\"消费记录\"></Header>\n\n    <div class=\"bill-dataList\">\n      <mescroll-vue ref=\"mescroll\" :up=\"mescrollUp\" @init=\"mescrollInit\">\n        <div id=\"dataList\">\n          <router-link\n            v-for=\"(item, index) in dataList\"\n            :key=\"index\"\n            :to=\"{ path: '/bill-details2', query: { id: item.id } }\"\n          >\n            <div class=\"one-sale clearfix\">\n              <div class=\"icon-wrap fl\">\n                <PayIcon\n                  :name=\"paytypeMap[item.payType] || item.payType\"\n                ></PayIcon>\n              </div>\n\n              <div class=\"fl left-info\">\n                <h6 class=\"type inaline\">\n                  {{ item.memberName ? \"会员\" : \"散客\" }}\n                  <span v-if=\"item.memberName\" class=\"name\">\n                    {{ item.memberName }}\n                  </span>\n                </h6>\n                <p class=\"category inaline\">\n                  {{\n                    item.project.split(\",\").reduce((all, curr, index) => {\n                      if (index !== 0) {\n                        all += \",\";\n                      }\n                      all += projectMap[curr];\n                      return all;\n                    }, \"\")\n                  }}\n                </p>\n              </div>\n              <div class=\"fr\">\n                <p class=\"time\">{{ item.createTime }}</p>\n                <p class=\"price\">￥{{ item.consumeMoney }}</p>\n              </div>\n            </div>\n          </router-link>\n        </div>\n      </mescroll-vue>\n      <!-- <h4 class=\"year\">2021</h4>\n      <div class=\"month-wrap clearfix\">\n        <h5 class=\"month fl\">8月</h5>\n        <span class=\"detail fr\">12笔/共1800元</span>\n      </div> -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport MescrollVue from 'mescroll.js/mescroll.vue';\n\nimport MescrollMixins from '@/utils/MescrollMixins';\n\nimport Header from '@/components/Header1.vue';\nimport PayIcon from '@/components/PayIcon.vue';\nimport { recordHistory } from '@/api/index';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  components: {\n    Header,\n    PayIcon,\n    MescrollVue\n  },\n  mixins: [MescrollMixins],\n  data() {\n    return {\n      dataList: [],\n\n      mescrollUp: {\n        // 上拉回调,此处可简写; 相当于 callback: function (page, mescroll) { getListData(page); }\n        callback: this.upCallback,\n        page: {\n          num: 0, // 当前页码,默认0,回调之前会加1,即callback(page)会从1开始\n          size: 15 // 每页数据的数量\n        },\n        noMoreSize: 5, // 如果列表已无数据,可设置列表的总数量要大于等于5条才显示无更多数据;避免列表数据过少(比如只有一条数据),显示无更多数据会不好看\n        toTop: {\n          src: './img/mescroll-totop.png' // 回到顶部按钮的图片路径,支持网络图\n        },\n        empty: {\n          // 列表第一页无任何数据时,显示的空提示布局; 需配置warpId才生效;\n          warpId: 'dataList', // 父布局的id;\n          icon: './img/mescroll-empty.png', // 图标,支持网络图\n          tip: '暂无相关数据~', // 提示\n          // btntext: '去逛逛 >', // 按钮,默认\"\"\n          btnClick() {\n            // 点击按钮的回调,默认null\n            // alert('点击了按钮,具体逻辑自行实现');\n          }\n        },\n        lazyLoad: {\n          use: true // 是否开启懒加载,默认false\n        }\n      }\n    };\n  },\n  computed: {\n    ...mapGetters(['paytypeMap', 'projectMap'])\n  },\n  created() {\n    // recordHistory().then(res => {\n    //   if (res) {\n    //     if (res.data.code === 0) {\n    //       this.dataList = res.data.data;\n    //     } else {\n    //       this.$Toast(res.data.msg);\n    //     }\n    //   }\n    // });\n  },\n  methods: {\n    // mescroll组件初始化的回调,可获取到mescroll对象\n    mescrollInit(mescroll) {\n      this.mescroll = mescroll;\n    },\n    // 上拉回调 page = {num:1, size:10}; num:当前页 ,默认从1开始; size:每页数据条数,默认10\n    upCallback(page, mescroll) {\n      recordHistory({}, page.num).then(res => {\n        if (res) {\n          if (res.data.code === 0) {\n            if (page.num === 1) this.dataList = [];\n            this.dataList = this.dataList.concat(res.data.data);\n            this.$nextTick(() => {\n              mescroll.endSuccess(res.data.data);\n            });\n          } else {\n            mescroll.endErr();\n            this.$Toast(res.data.msg);\n          }\n        } else {\n          mescroll.endErr();\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"less\">\n.wrap {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n.bill-dataList {\n  height: 100%;\n  display: flex;\n  box-sizing: border-box;\n  padding: 70px 0 0 0;\n\n  .year {\n    margin: 0;\n    line-height: 28px;\n    font-size: 18px;\n    font-weight: normal;\n  }\n\n  .month-wrap {\n    margin-top: 5px;\n    line-height: 20px;\n    margin-bottom: 8px;\n\n    &.month-top {\n      margin-top: 20px;\n    }\n\n    .month {\n      margin: 0;\n      font-size: 15px;\n      font-weight: normal;\n    }\n\n    .detail {\n      font-size: 12px;\n      color: #8a8a8a;\n    }\n  }\n}\n\n.one-sale {\n  margin: 0 22px;\n  padding: 16px 0 12px;\n  border-bottom: 1px solid #ebebeb;\n\n  .icon-wrap {\n    margin: 0 22px 0 10px;\n  }\n\n  .left-info {\n    width: 150px;\n  }\n\n  .type {\n    margin: 0;\n    margin-top: -4px;\n    line-height: 22px;\n    font-size: 15px;\n    color: #3b3b3b;\n    font-weight: normal;\n  }\n\n  .name {\n    display: inline-block;\n    margin: 0;\n    margin-top: -6px;\n    padding: 2px 8px;\n    line-height: 16px;\n    font-size: 12px;\n    color: #fba1a8;\n    border-radius: 4px;\n    background: #f3f3f3;\n    font-weight: normal;\n    // transform: scale(0.8);\n    transform-origin: center;\n  }\n\n  .time {\n    margin: 0;\n    margin-top: -4px;\n    line-height: 22px;\n    font-size: 11px;\n    color: #9c9c9c;\n  }\n\n  .category {\n    margin: 0;\n    margin-top: 2px;\n    font-size: 12px;\n    line-height: 20px;\n    color: #a8a8a8;\n  }\n\n  .price {\n    margin: 0;\n    margin-top: 2px;\n\n    font-size: 15px;\n    line-height: 20px;\n    color: #f57f42;\n    text-align: right;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesRecord.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesRecord.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SalesRecord.vue?vue&type=template&id=3d49cc68&scoped=true&\"\nimport script from \"./SalesRecord.vue?vue&type=script&lang=js&\"\nexport * from \"./SalesRecord.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SalesRecord.vue?vue&type=style&index=0&id=3d49cc68&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d49cc68\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SalesRecord.vue?vue&type=style&index=0&id=3d49cc68&scoped=true&lang=less&\""],"sourceRoot":""}