(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04d03708"],{"0996":function(e,t,n){},"43e8":function(e,t,n){"use strict";n("0996")},"498a":function(e,t,n){"use strict";var r=n("23e7"),a=n("58a8").trim,o=n("c8d2");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return a(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),a=n("5899"),o="["+a+"]",c=RegExp("^"+o+o+"*"),i=RegExp(o+o+"*$"),s=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(c,"")),2&e&&(n=n.replace(i,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},"8a1e":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cash-register"},[n("van-nav-bar",{attrs:{title:"会员充值","left-text":"返回",fixed:!0,"left-arrow":""},on:{"click-left":e.onClickLeft}}),n("div",{staticClass:"zhan"}),n("van-cell-group",[n("van-field",{attrs:{center:"",clearable:"",label:"会员卡号",placeholder:"请输入手机号",type:"number"},on:{input:e.numberInput},scopedSlots:e._u([{key:"button",fn:function(){return[n("van-button",{attrs:{size:"small",type:"info"},on:{click:e.autMemHandler}},[e._v("验证")])]},proxy:!0}]),model:{value:e.form.memberNo,callback:function(t){e.$set(e.form,"memberNo",t)},expression:"form.memberNo"}})],1),n("van-cell-group",[n("van-cell",{attrs:{title:"姓名",value:e.name}}),n("van-cell",{attrs:{title:"剩余金额",value:e.money+" 元"}})],1),n("van-cell-group",[n("van-field",{attrs:{type:"number",placeholder:"请输入",label:"充值金额"},model:{value:e.form.rechargeMoney,callback:function(t){e.$set(e.form,"rechargeMoney",t)},expression:"form.rechargeMoney"}}),n("van-field",{attrs:{type:"number",placeholder:"请输入",label:"赠送金额"},model:{value:e.form.extraMoney,callback:function(t){e.$set(e.form,"extraMoney",t)},expression:"form.extraMoney"}}),n("van-field",{attrs:{name:"radio",label:"付款方式"},scopedSlots:e._u([{key:"input",fn:function(){return[n("van-radio-group",{attrs:{direction:"horizontal"},model:{value:e.form.payType,callback:function(t){e.$set(e.form,"payType",t)},expression:"form.payType"}},e._l(e.paytypes,(function(t){return n("van-radio",{key:t.payType,attrs:{name:t.payType}},[e._v(e._s(t.payTypeName))])})),1)]},proxy:!0}])})],1),n("van-cell-group",[n("van-field",{attrs:{rows:"2",autosize:"",label:"备注",type:"textarea",maxlength:"200",placeholder:"请输入","show-word-limit":""},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),n("div",{staticClass:"btn-wrap"},[n("van-button",{attrs:{type:"info",block:""},on:{click:e.submitHandler}},[e._v("提交")])],1)],1)},a=[],o=n("5530"),c=(n("b0c0"),n("365c")),i=n("ed08"),s=n("2f62"),l={name:"CashRegister",components:{},data:function(){return{name:"--",money:"--",form:{memberNo:"",rechargeMoney:"",extraMoney:"",remark:"",payType:""}}},computed:Object(o["a"])({},Object(s["c"])(["paytypes","userInfo"])),methods:{onClickLeft:function(){this.$router.go(-1)},autMemHandler:function(){var e=this;Object(i["a"])(this.form.memberNo).code?this.$Toast("请输入会员电话号码"):Object(c["g"])(this.form.memberNo).then((function(t){if(t)if(0===t.data.code){var n=t.data.data,r=n.memberName,a=n.money;e.name=r,e.money=a}else e.$Toast(t.data.msg)}))},submitHandler:function(){var e=this;"--"!==this.money?this.form.rechargeMoney?this.form.payType?Object(c["j"])(Object(o["a"])(Object(o["a"])({},this.form),{},{createBy:this.userInfo.loginName})).then((function(t){t?0===t.data.code?(e.$Toast("充值成功"),e.$router.go(-1)):e.$Toast(t.data.msg):e.$Toast("充值失败")})):this.$Toast("请选择付款方式"):this.$Toast("请输入金额"):this.$Toast("请先验证会员")},numberInput:function(){this.name="--",this.money="--"}}},u=l,m=(n("43e8"),n("2877")),f=Object(m["a"])(u,r,a,!1,null,null,null);t["default"]=f.exports},b0c0:function(e,t,n){var r=n("83ab"),a=n("9bf2").f,o=Function.prototype,c=o.toString,i=/^\s*function ([^ (]*)/,s="name";r&&!(s in o)&&a(o,s,{configurable:!0,get:function(){try{return c.call(this).match(i)[1]}catch(e){return""}}})},c8d2:function(e,t,n){var r=n("d039"),a=n("5899"),o="​᠎";e.exports=function(e){return r((function(){return!!a[e]()||o[e]()!=o||a[e].name!==e}))}},ed08:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));n("498a");var r=function(e){var t=/^1[3-9][0-9]{9}$/;return""===e.trim()?{code:1,msg:"请输入手机号码"}:t.test(e)?{code:0,msg:"验证通过"}:{code:1,msg:"手机号码格式不正确"}},a=function(e){return""===e.trim()?{code:1,msg:"请输入密码"}:e.length<6?{code:1,msg:"密码长度不能小于6位"}:{code:0,msg:"验证通过"}}}}]);
//# sourceMappingURL=chunk-04d03708.901fd15f.js.map